\chapter
 [Design and demonstration of an operating system for executing applications on quantum network nodes]
 {Design and demonstration of an operating system for executing applications on quantum network nodes}
\label{chp:qnodeos}


% Custom hyphenation
\hyphenation{QNodeOS}  % Do not hyphenate QNodeOS
\hyphenation{QDevice}  % Do not hyphenate QDevice

% List of abbreviations
\acrodef{AE}{Atomic Ensembles}
\acrodef{API}{Application Programming Interface}
\acrodef{ASIC}{Application-Specific Integrated Circuit}
\acrodef{CNPU}{Classical Network Processing Unit}
\acrodef{CPLD}{Complex Programmable Logic Device}
\acrodef{CPU}{Central Processing Unit}
\acrodef{CR}{Charge-Resonance}
\acrodef{DD}{Dynamical Decoupling}
\acrodef{DQC}{Delegated Quantum Computation}
\acrodef{DQP}{Distributed Queue Protocol}
\acrodef{EGP}{Entanglement Generation Protocol}
\acrodef{EMU}{Entanglement Management Unit}
\acrodef{EPR}{Entanglement Pair Request}
\acrodef{ER}{Entanglement Request}
\acrodef{FPGA}{Field Programmable Gate Array}
\acrodef{HAL}{Hardware Abstraction Layer}
\acrodef{IPC}{Inter-Process Communication}
\acrodef{IT}{Ion Traps}
\acrodef{LGT}{Local Gate Tomography}
\acrodef{MW}{Microwave}
\acrodef{NetQASM}{Quantum Network Assembly Language}
\acrodef{NV}{Nitrogen Vacancy} 
\acrodef{OS}{Operating System}
\acrodef{OSI}{Open Systems Interconnect}
\acrodef{QASM}{Quantum Assembly Language}
\acrodef{QDevice}{Quantum Device}
\acrodef{QDriver}{QDevice Driver}
\acrodef{QEGP}{Quantum Entanglement Generation Protocol}
\acrodef{QMMU}{Quantum Memory Management Unit}
\acrodef{QNetStack}{Quantum Network Stack}
\acrodef{QNodeOS}{Quantum Network Operating System}
\acrodef{QNP}{Quantum Network Protocol}
\acrodef{QNPU}{Quantum Network Processing Unit}
\acrodef{QPU}{Quantum Processing Unit}
\acrodef{PID}{Proportional–Integral–Derivative}
\acrodef{PSB}{Phonon-Side Band}
\acrodef{PMT}{Photomultiplier Tube}
\acrodef{RO}{Readout}
\acrodef{SDK}{Software Development Kit}
\acrodef{SoC}{System on a Chip}
\acrodef{SP}{Spinpump}
\acrodef{SPI}{Serial Peripheral Interface}
\acrodef{SSRO}{Single-Shot Readout}
\acrodef{TTL}{Transistor-Transistor Logic}
\acrodef{ZPL}{Zero-Phonon Line}

\newcommand{\CaPlus}{$^{40}$Ca$^+$}

\begin{abstract}
    The goal of future quantum networks is to enable new internet applications that are impossible to achieve using solely classical communication\cite{kimble_2008_quantum,wehner_2018_stages,vanMeter_book}.
    Up to now, demonstrations of quantum network applications\cite{barz_2012_demonstration,drmota_verifiable_2024,nadlinger_device-independent_2022} and functionalities\cite{hermans2022qubit,iuliano2024qubit,matsukevich_quantum_2009,langenfeld_quantum_2021,pfaff_unconditional_2014,chou_deterministic_2018} on quantum processors have been performed in ad-hoc software that was specific to the experimental setup, programmed to perform one single task (the application experiment) directly into low-level control devices using expertise in experimental physics.
    Here, we report on the design and implementation of the first architecture capable of executing quantum network applications on quantum processors in platform-independent high-level software.
    We demonstrate the architecture's capability to execute applications in high-level software, by implementing it as a quantum network operating system --- QNodeOS --- and executing test programs including a delegated computation from a client to a server\cite{broadbent_2009_ubqc} on two quantum network nodes based on nitrogen-vacancy (NV) centers in diamond\cite{doherty_2013,childress2013diamond}.
    We show how our architecture allows us to maximize the use of quantum network hardware, by multitasking different applications on a quantum network for the first time.
    Our architecture can be used to execute programs on any quantum processor platform corresponding to our system model, which we illustrate by demonstrating an additional driver for QNodeOS for a trapped-ion quantum network node based on a single \CaPlus atom\cite{fioretto_towards_2020}.
    Our architecture lays the groundwork for computer science research in the domain of quantum network programming, and paves the way for the development of software that can bring quantum network technology to society.
\end{abstract}

\input{chapters/main/qnodeos/main/main_text}
\input{chapters/main/qnodeos/main/methods}

\input{chapters/main/qnodeos/supplementary/design-consid.tex}
\clearpage
\input{chapters/main/qnodeos/supplementary/qnodeos-design}
\clearpage
\section{QDevice Implementations}
\input{chapters/main/qnodeos/supplementary/NV}
\input{chapters/main/qnodeos/supplementary/trapped_ion}
\clearpage
\input{chapters/main/qnodeos/supplementary/delcomp.tex}
\clearpage
\input{chapters/main/qnodeos/supplementary/multitasking}

\clearpage
\input{chapters/main/qnodeos/supplementary/multitasking_figs}
\clearpage
\input{chapters/main/qnodeos/supplementary/source_code}
\clearpage
\input{chapters/main/qnodeos/supplementary/traces}

\begin{xstretch}
\printbibliography[heading=subbibintoc,title={References},notcategory=noprint]
\end{xstretch}